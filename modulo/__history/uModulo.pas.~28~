unit uModulo;

interface

uses
  SysUtils, Classes, DB, DBTables, ADODB, RpBase, RpSystem, RpDefine, RpRave;

type
  Tmodulo = class(TDataModule)
    CNX: TADOConnection;
    qSucursal: TADOQuery;
    qSucursalid: TAutoIncField;
    qSucursalnombreSucursal: TStringField;
    qSucursaldireccion: TStringField;
    qSucursaltipoProductos: TMemoField;
    qSucursalestado: TWordField;
    qProducto: TADOQuery;
    qProductoid: TAutoIncField;
    qProductonombreProducto: TStringField;
    qProductoidUnidadMedida: TIntegerField;
    qProductocapacidad: TFloatField;
    qProductoICE: TFloatField;
    qUnidadMedida: TADOQuery;
    qUnidadMedidaid: TAutoIncField;
    qUnidadMedidanombreUnidadMedida: TStringField;
    qUnidadMedidasimbolo: TStringField;
    qProductounidad: TStringField;
    qPrecioProducto: TADOQuery;
    qPrecioProductoid: TAutoIncField;
    qPrecioProductoidProducto: TIntegerField;
    qPrecioProductoidSucursal: TIntegerField;
    qPrecioProductoprecioUnitario: TBCDField;
    qPrecioProductoestado: TWordField;
    qPrecioProductonombreSucursal: TStringField;
    qPrecioProductonombreProducto: TStringField;
    qDosificacion: TADOQuery;
    qDosificacionid: TAutoIncField;
    qDosificacionllaveDosificacion: TStringField;
    qDosificacionfecha: TDateField;
    qDosificacionidSucursal: TIntegerField;
    qDosificacionnroAutorizacion: TStringField;
    qDosificacionnroInicioFactura: TIntegerField;
    qDosificacionfechaLimiteEmision: TDateField;
    qDosificacionnombresucursal: TStringField;
    qDosificacionestado: TWordField;
    raveFasin: TRvProject;
    RvSystem1: TRvSystem;
    qrfactura: TADOQuery;
    qrfacturaidVenta_: TIntegerField;
    qrfacturaidCaja: TIntegerField;
    qrfacturausuario: TStringField;
    qrfacturafechaHora: TDateTimeField;
    qrfacturaidFactura: TAutoIncField;
    qrfacturaidSucursal: TIntegerField;
    qrfacturaespecificacion: TWordField;
    qrfacturacorrelativoSucursal: TIntegerField;
    qrfacturafechaFactura: TDateField;
    qrfacturanroFactura: TLargeintField;
    qrfacturanroAutorizacion: TStringField;
    qrfacturaestado: TStringField;
    qrfacturanit: TLargeintField;
    qrfacturarazonSocial: TStringField;
    qrfacturaimporteTotal: TBCDField;
    qrfacturaimporteIce: TBCDField;
    qrfacturaimporteExportaciones: TBCDField;
    qrfacturaimporteVentasTasaCero: TBCDField;
    qrfacturaimporteSubtotal: TBCDField;
    qrfacturaimporteRebajas: TBCDField;
    qrfacturaimporteBaseDebitoFiscal: TBCDField;
    qrfacturadebitoFiscal: TBCDField;
    qrfacturacodigoControl: TStringField;
    qrfacturaidVenta: TIntegerField;
    qrfacturafechaLimiteEmision: TDateField;
    qrfacturaidproducto: TIntegerField;
    qrfacturanombreProducto: TStringField;
    qrfacturasimbolo: TStringField;
    qrfacturacapacidad: TFloatField;
    qrfacturacantidad: TBCDField;
    qrfacturaprecioUnitario: TBCDField;
    qrfacturaiceUnitario: TBCDField;
    qrfacturaprecioTotal: TBCDField;
    qrfacturaiceTotal: TBCDField;
    qrfacturaalicuota: TBCDField;
    function aCero(Numero: Currency): integer;
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  modulo: Tmodulo;

implementation

{$R *.dfm}

function Tmodulo.aCero(Numero: Currency): integer;
var
  _frac: real;
  _res: integer;
begin
  _frac := Frac(Numero);

  if _frac >= 0.5 then
    _res := Trunc(Numero) + 1
  else
    _res := Trunc(Numero);

  Result := _res;
end;

end.
